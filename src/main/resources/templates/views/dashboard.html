<!DOCTYPE html>
<html layout:decorate="~{fragments/layouts/main_layout}"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Dashboard</title>

    <th:block layout:fragment="stylesheet_custom"/>
</head>
<body>

<main layout:fragment="content" role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
    <div class="justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
        <h1 class="h2">Dashboard</h1>
        <div class="w-100">
            <p>Please set status following this process below</p>
            <p class="mb-0">
                <span th:each="item : ${statusList}"
                      th:if="${item.value != 'UNDEFINED' && item.value != 'SKIPPED'}">

                    <span data-feather="arrow-right"
                          th:if="${item.value != 'PENDING'}"
                          class="text-secondary">

                    </span>
                    <span th:class="${'badge mb-0 p-2 mb-1 '} +
                            ${item.value != 'DOWNLOADING' &&
                                item.value != 'UNZIPPING' &&
                                item.value != 'UPLOADING'?
                                'badge-dark' : 'badge-secondary'}"
                          th:text="${item.name}">
                    </span>
                </span>
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-lg-6 table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Pending</th>
                    <th class="text-right" th:if="${pendingCount > 0}">
                        <a th:href="@{/file(fileStatus = ${pendingParam})}"
                            class="text-secondary">
                            See All
                        </a>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="file : ${pendingFiles}">
                    <td th:text="${file.name}"></td>
                    <td class="text-right">
                        <button type="button" class="btn btn-sm btn-outline-secondary copyBtns"
                                th:data-clipboard-text="${file.name}">
                            <span class="text-small" data-feather="clipboard"></span>
                        </button>
                    </td>
                </tr>

                <tr th:if="${!(pendingCount > 0)}">
                    <td class="text-center tableNoItem">
                        <span class="text-muted">- No Item -</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 col-lg-6 table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Downloading</th>
                    <th class="text-right" th:if="${downloadingCount > 0}">
                        <a th:href="@{/file(fileStatus = ${downloadingParam})}"
                            class="text-secondary">
                            See All
                        </a>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="file : ${downloadingFiles}">
                    <td th:text="${file.name}"></td>
                    <td class="text-right" th:if="${downloadingFiles.size > 0}">
                        <button type="button" class="btn btn-sm btn-outline-secondary copyBtns"
                                th:data-clipboard-text="${file.name}">
                            <span class="text-small" data-feather="clipboard"></span>
                        </button>
                    </td>
                </tr>
                <tr th:if="${!(downloadingCount > 0)}">
                    <td class="text-center tableNoItem">
                        <span class="text-muted">- No Item -</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 col-lg-6 table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Unzipping</th>
                    <th class="text-right" th:if="${unzippingCount > 0}">
                        <a th:href="@{/file(fileStatus = ${unzippingParam})}"
                            class="text-secondary">
                            See All
                        </a>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="file : ${unzippingFiles}">
                    <td th:text="${file.name}"></td>
                    <td class="text-right">
                        <button type="button" class="btn btn-sm btn-outline-secondary copyBtns"
                                th:data-clipboard-text="${file.name}">
                            <span class="text-small" data-feather="clipboard"></span>
                        </button>
                    </td>
                </tr>

                <tr th:if="${!(unzippingCount > 0)}">
                    <td class="text-center tableNoItem">
                        <span class="text-muted">- No Item -</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 col-lg-6 table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Uploading</th>
                    <th class="text-right" th:if="${uploadingCount > 0}">
                        <a th:href="@{/file(fileStatus = ${uploadingParam})}"
                           class="text-secondary">
                            See All
                        </a>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="file : ${uploadingFiles}">
                    <td th:text="${file.name}"></td>
                    <td class="text-right">
                        <button type="button" class="btn btn-sm btn-outline-secondary copyBtns"
                                th:data-clipboard-text="${file.name}">
                            <span class="text-small" data-feather="clipboard"></span>
                        </button>
                    </td>
                </tr>
                <tr th:if="${!(uploadingCount > 0)}">
                    <td class="text-center tableNoItem">
                        <span class="text-muted">- No Item -</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</main>

<th:block layout:fragment="script_custom"/>

</body>
</html>
